<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
 js-闭包
 js-构造函数
 <script>
     // js-es-5-6-7-闭包
     // let Person=(function(){
     //     var name='111';
     //     var age='12';
     //     function getAge(){
     //         return age;
     //     }
     //     function getName(){
     //         return name
     //     }
     //     function setAge(newage){
     //         age=newage;
     //     }
     //     function setName(newname){
     //         name=newname
     //     }
     //     return{
     //         getAge:getAge,
     //         getName:getName,
     //         setAge:setAge,
     //         setName:setName
     //     }
     // })()
     // console.log(Person.name);
     // console.log(Person.age);
     // console.log(Person.getAge());
     // console.log(Person.getName());
     // Person.setAge("125");
     // Person.setName("155");
     // console.log(Person.getAge());
     // console.log(Person.getName());

     //js-es-5-6-7-构造函数
     // function PersonOne(name,age){
     //     this.name=name;
     //     this.age=age;
     //     this.setP=function(){
     //         console.log(this.age);
     //     }
     // }
     // PersonOne.prototype.printName=function(){
     //    console.log(this.name);
     // }
     //
     // function create(prototype){
     //         function F(){}
     //         F.prototype=prototype;
     //         return new F();
     //     }
     //
     //  function Student(){
     //     PersonOne.call(this,arguments);
     //  }
     //
     // Student.prototype=create(PersonOne.prototype)
     // Student.prototype.constructor =Student;


     //创建新的对象，并继承指定的函数的方法
     // function create(prototype){
     //     function F(){}
     //     F.prototype=prototype;
     //     return new F();
     // }
     // 让Student的原型指向一个对象,该对象的原型指向了Person.prototype,通过这种方式继承 Person 的方法
    //  Student.prototype=create(PersonOne.prototype)
     //ES6--->    Student.prototype=Object.create(PersonOne.prototype)
     // Student.prototype.constructor =Student;
    // Student.prototype.printAge=function(){
    //      console.log(this.age);
    // }

    //  Student.prototype=new PersonOne();
    //
    // let student2=new Student("test","223");
    //
    //  student2.printName();
    //  student2.printAge();//首先看对象本身的原型链上是否含有当前方法，否则将去继承的对象的原型链上寻找方法


     /*定义一个人类*/
     // function Person(name,age)
     // {
     //     this.name=name;
     //     this.age=age;
     // }
     // /*定义一个学生类*/
     // function Student(name,grade)
     // {
     //     // Person.apply(this,arguments);
     //     Person.call(this,name);
     //     this.grade=grade;
     // }
     // //创建一个学生类
     // var student=new Student("zhangsan","一年级");
     // //测试
     // console.log("name:"+student.name+"\n"+"age:"+student.age+"\n"+"grade:"+student.grade);



     //寄生组合式继承
    /* function obj(o){
     function F(){}
     F.prototype = o;
     return new F();
     }
     function create(parent,test){
         var f = obj(parent.prototype);//创建对象
         f.constructor = test;//增强对象
     }

     function Parent(name){
         this.name = name;
         this.arr = ['brother','sister','parents'];
     }

     Parent.prototype.run = function () {
         return this.name;
     };

     function Child(name,age){
         Parent.call(this,name);
         this.age =age;
     }

     inheritPrototype(Parent,Child);//通过这里实现继承

     var test = new Child('trigkit4',21);
     test.arr.push('nephew');
     alert(test.arr);//
     alert(test.run());//只共享了方法

     var test2 = new Child('jack',22);
     alert(test2.arr);//引用题问解决*/

    // rr=1;let死区问题
    // var rr;
    // console.log(rr);

     // var tmp = new Date();

     // function f() {
         // console.log(tmp);//内层声名变量覆盖外层，内层没有声名的话当前作用域中没有，作用域升迁，引入父级作用域变量
         // if (false) {
         //     var tmp = 'hello world';
         // }
     // }

     // f(); // undefined


     //rest风格
     // function sortNumbers(arguments) {
     //     // Array.prototype.slice.call从数组中复制出来新的数组
     //     return Array.prototype.slice.call(arguments).sort();
     // }

     // rest参数的写法
     // const sortNumbers = (...numbers) => numbers.sort();
     //
     // console.log(sortNumbers(2,6,4,1,9,3,7));

     // this指向性问题，箭头函数的区别
     // function foo() {
     //     setTimeout(() => {
     //         console.log('id:', this.id);
     //     }, 100);
     // }
     //
     // var id = 21;
     //
     // foo.call({ id: 42 });

    //  function foo() {
    //      return () => {
    //                  console.log('id:', this.id);
    //      };
    //  }
    // var id=6;

    //  var f = foo.call({id: 1});实例化后进行操作
    // f({id: 2})

     // var a=123;
     // var b="123";
     //
     // console.log(Object.is(a,b));

     // set数组去重
     // var testa=[1,4,2,5,3,6,5,2,12,3,77,9,6,7]
     //
     // var setA=new Set(testa);
     // console.log([...setA]);

     // console.log([...new Set(Array.prototype.slice.call("qweasdasfgs"))].join(''))字符串去重;


     //常见的for循环
     var test={data:"1",num:"23",work:[{gongan:"dada"},{xinghan:"kili"},{df:"wsfasf"},{hgg:[{ghh:"123"},{hjk:"234"}]}]}
     // var test1=[{data:"1",num:"23",work:[{gongan:"dada"},{xinghan:"kili"},{df:"wsfasf"},{hgg:[{ghh:"123"},{hjk:"234"}]}]}]

     // for (let i in test){
     // // 当test是伪数组的时候
     //      if(!test[i].hasOwnProperty()){
     //         console.log(test[i],i);
     //      }
     // }
     // test1.map((item)=>{
     //     for (let i in item){
     //         if(i == "work"){
     //             item[i].forEach((item)=>{
     //                 console.log(item.gongan)
     //             })
     //         }
     //     }
     // })


     var text=["123","234","567","257"];

     var modu=[{data:"key"},{ghy:[]}]

     // modu.forEach((item)=>{
     //     console.log(item);
     // })


     // var arr = [
     //     { name:'nick', age:18 },
     //     { name:'freddy', age:24 },
     //     { name:'mike', age:26 },
     //     { name:'james', age:34 }
     // ];
     // for(var item of arr) {
     //     console.log(item.name, item.age);
     // }
     // const real=Array.from(test);

     // for (var key of test){
     //     console.log(key);
     // }

     // test.forEach((item)=>{
     //     console.log(item);
     // })


    //  var relset=[1,2,3,4,5]
    //  var set = new Set(relset);
    //  var relmap=[['qwe',56],['asd',344],['gfs',23]];
    //  var map = new Map(relmap);
    // for (let v of set) {
    //      console.log(v);
    //  }
    //  console.log("------"+map+"*"+set+"--------------");
    //  for(let [k,v] of map) {
    //      console.log(k,v);
    //  }

     // function timeout(ms) {
     //     return new Promise((resolve) => {
     //         setTimeout(resolve, ms);
     //     });
     // }
     //
     // async function asyncPrint(value, ms) {
     //     await timeout(ms);
     //     console.log(value);
     // }
     //
     // asyncPrint('hello world', 50);


     // es6-编码风格
     /*
     解构赋值{参数保持一致}
      */
    // var file={first:"123",sec:"234"};
    //
    // // console.log(file.first)
    //
    //  function max({first,sec}){
    //
    //      console.log(first,sec)
    // }
    //
    // max(file);


    // class  Queie{
    //     constructor(content=[]){
    //         this._quies=[...content]
    //     }
    //     pop(){
    //         const value=this._quies[0];
    //         this._quies.splice(0,1);
    //         return value;
    //     }
    // }
    //
    // var cc=new Queie([1,2,3,4,5,7]);
    // console.log(cc.pop());

     // function People(name,age){
     //     this.name=name;
     //     this.age=age;
     //     this.play=[1,2,3,4];
     //     console.log("asd"+this.name+"----"+this.age+"----"+this.play)
     // }
     // People.prototype.say=function(){
     //     console.log("我的名字是:"+this.place+"我今年"+this.age+"岁！");
     // }
     //
     // function Child(price){
     //     // People.call(this,...arguments);
     //     this.price=price;
     //     // this.age=age;
     //     console.log("www"+this.price);
     //
     //     // People.call(this,...arguments);
     // }
     //
     // // function create(prototype){
     // //     function F() {}
     // //     F.prototype=prototype;
     // //     return new F();
     // // }
     //
     // Child.prototype =new People();
     // var child=new Child("123","12");
     // var child1=new Child("1234","1234");
     // child.say();
     // child.play.push(7)
     // console.log(child.play,child1.play);

     // Child.prototype= create(People.prototype);


     // function fn(){
     //     var a = 100;
     //     function func(){
     //         console.log(a);
     //     }
     //      return func;
     // }
     //
     // var func = fn();
     // console.log(func());



     //includes
     // var math=[{id:"1",node:'1',pa:'1'},{id:'2',node:'2',pa:'2'},{id:'3',node:'3',pa:'3'}];
     // var math1={id:"1",node:'1',pa:'1'}
     //
     // // console.log(math.includes({id:"1",node:'1',pa:'1'}))
     // for (var item of math){
     //     // console.log(item);
     //     if(item.id.includes(math1.id)){
     //
     //     }
     //     console.log(item.id.includes(math1.id))
     // }
     // var ee=new Set(math);
     //
     // console.log(ee);
     //
     // for (var i of math){
     //
     // }

    // ES6:Class
    //  class Opo{
    //     constructor(){
    //         this.name=1;
    //     }
    //
    //     getOpo(name){
    //         console.log(name)
    //      }
    //  }
    //
    //  // var name="234";
    //  let child=new Opo();
    //  child.getOpo("123");

    //es5实现一个class函数（通过闭包+构造函数）
    //  var Person =(function(){
    //      var name='2'
    //
    //      function getOp(){
    //          this.name=name;
    //          console.log(this.name);
    //      }
    //      getOp.prototype.say=function(mes){
    //          console.log(mes,this.name);
    //      }
    //      return getOp;
    //  })();

     // var Child=(function(Person){
     //
     //     //累的调用检测
     //     function _classCheck(instance,constructor){
     //        if(instance instanceof  constructor){
     //            throw  new Error("child is not instanceof person")
     //        }
     //     }
     //
     //     //子类继承父类
     //     function _inherins(subclass,superclass){
     //         subclass.prototype=Object.create(subclass.prototype,{constructor:{value:subclass}});
     //         Object.setPrototypeOf(subclass,superclass);
     //     }
     //
     //     _inherins(Child,Person);
     //
     //    function Child(){
     //        let obj=Person.call(this)//子类继承私有属性
     //        let that=this;
     //        if(typeof obj=='object'){
     //            that=obj
     //        }
     //        that.name=1;//解决了父类是引用类型的问题
     //        _classCheck(this, Clild)
     //        return that
     //    }
     //    return Child;
     //
     //
     // })(Person);


     //生成自由排序
    //  function shuffleArray(totalLength) {
    //      let randomArray = {}, randomIndex, temp;
    //      for (let i = 0; i < totalLength; i ++) {
    //          randomArray[i] = i;
    //      }
    //      for (let i = totalLength - 1; i >= 0; i --) {
    //          randomIndex = Math.floor(Math.random() * (i + 1));
    //          temp = randomArray[randomIndex];
    //          randomArray[randomIndex] = randomArray[i];
    //          randomArray[i] = temp;
    //          //两两进行互换
    //      }
    //      return randomArray;
    //  }
    //
    // console.log(shuffleArray(16));


 </script>
</body>
</html>
